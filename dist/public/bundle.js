!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e){t.exports=Phaser.min},function(t,e,n){"use strict";n.r(e);n(0);var i,o,r=new Phaser.Core.Config({type:Phaser.AUTO,disableContextMenu:!0,scale:{width:1024,height:768,autoCenter:Phaser.Scale.Center.CENTER_BOTH},render:{antialias:!0,pixelArt:!0,roundPixels:!1,transparent:!1,clearBeforeRender:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!1,powerPreference:"default",batchSize:2e3,maxLights:10},backgroundColor:"#2d2d2d",physics:{default:"arcade",arcade:{debug:!0}},parent:"game"}),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function a(t){return o.call(this,t)||this}var h,c,p=(o=Phaser.Scene,s(a,o),a.prototype.preload=function(){this.load.image("phaserLogo","assets/images/phaser.png")},a.prototype.create=function(){this.scene.start("Connect")},a),u=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function y(t){return c.call(this,t)||this}var f,l,d,m,g=(c=Phaser.Scene,u(y,c),y.prototype.preload=function(){this.load.spritesheet("player","assets/images/characters/player.png",{frameWidth:48,frameHeight:32}),this.load.spritesheet("zombie1","assets/images/characters/player.png",{frameWidth:48,frameHeight:32})},y.prototype.create=function(){var t=this;this.add.sprite(400,300,"phaserLogo"),setTimeout(function(){t.scene.start("Main")},100)},y.prototype.update=function(){},y),_=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=(l=Phaser.Scene,_(v,l),v);function v(t){return l.call(this,t)||this}(m=d=d||{})[m.up=0]="up",m[m.down=1]="down",m[m.left=2]="left",m[m.right=3]="right",m[m.upLeft=4]="upLeft",m[m.upRight=5]="upRight",m[m.downLeft=6]="downLeft",m[m.downRight=7]="downRight",m[m.none=8]="none";var w,O,b=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function x(t,e,n,i,o){var r=O.call(this,t,e,n,i,o)||this;return r.orgX=24,r.orgY=20,r.entityDirection=d.none,r.spriteKey=i,r.currentScene=t,r.initializeSprite(),r.currentScene.add.existing(r),r}var A,M=(O=Phaser.GameObjects.Sprite,b(x,O),x.prototype.initializeSprite=function(){this.setOrigin(0)},x.prototype.getCurrentScene=function(){return this.currentScene},x.prototype.setEntityDirection=function(){0===this.vx&&0===this.vy?this.entityDirection=d.none:0===this.vx&&this.vy<0?this.entityDirection=d.up:0===this.vx&&0<this.vy?this.entityDirection=d.down:this.vx<0&&0===this.vy?this.entityDirection=d.left:0<this.vx&&0===this.vy?this.entityDirection=d.right:this.vx<0&&this.vy<0?this.entityDirection=d.upLeft:0<this.vx&&this.vy<0?this.entityDirection=d.upRight:this.vx<0&&0<this.vy?this.entityDirection=d.downLeft:0<this.vx&&0<this.vy&&(this.entityDirection=d.downRight)},x.prototype.setDirectionalAnimation=function(){this.entityDirection!=d.none&&this.anims.play("walk",!0)},x.prototype.getEntityDirection=function(){return this.entityDirection},x.prototype.setVelocityX=function(t){this.vx=t},x.prototype.setVelocityY=function(t){this.vy=t},x.prototype.updatePosition=function(t){this.x+=this.vx*t,this.y+=this.vy*t,this.displayOriginX!=this.orgX&&(this.displayOriginX=(this.displayOriginX-this.orgX)*(1-.15*t/17)+this.orgX)},x.prototype.kickBack=function(t,e){this.displayOriginX+=.05*e,this.displayOriginX=Math.max(this.displayOriginX,this.orgX+.2*e)},x.prototype.setAnimation=function(t,e,n){t.frames=this.currentScene.anims.generateFrameNumbers(this.spriteKey,{start:e,end:n}),this.currentScene.anims.create(t)},x);function S(){}function R(t){void 0===t&&(t=null),this.mt=new Array(S.Random.N),this.mti=S.Random.N+1,null==t&&(t=(new Date).getTime()),this.init_genrand(t)}var I,D,C=(S.findNewPoint=function(t,e,n){var i=new Phaser.Math.Vector2;return i.x=Math.round(Math.cos(e*Math.PI/180)*n+t.x),i.y=Math.round(Math.sin(e*Math.PI/180)*n+t.y),i},S.spreadChange=function(t,e){var n=Math.pow(Math.random()*e-e/2,3)/Math.pow(e/2,2);return n+=t},S.Random=(R.prototype.init_genrand=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<S.Random.N;this.mti++)t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0},R.prototype._nextInt32=function(){var t,e=new Array(0,S.Random.MATRIX_A);if(this.mti>=S.Random.N){var n;for(this.mti==S.Random.N+1&&this.init_genrand(5489),n=0;n<S.Random.N-S.Random.M;n++)t=this.mt[n]&S.Random.UPPER_MASK|this.mt[n+1]&S.Random.LOWER_MASK,this.mt[n]=this.mt[n+S.Random.M]^t>>>1^e[1&t];for(;n<S.Random.N-1;n++)t=this.mt[n]&S.Random.UPPER_MASK|this.mt[n+1]&S.Random.LOWER_MASK,this.mt[n]=this.mt[n+(S.Random.M-S.Random.N)]^t>>>1^e[1&t];t=this.mt[S.Random.N-1]&S.Random.UPPER_MASK|this.mt[0]&S.Random.LOWER_MASK,this.mt[S.Random.N-1]=this.mt[S.Random.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},R.prototype.nextInt32=function(t){void 0===t&&(t=null);var e=this._nextInt32();return null==t?e:e%(t[1]-t[0])+t[0]},R.prototype.nextInt31=function(){return this._nextInt32()>>>1},R.prototype.nextNumber=function(){return this._nextInt32()*(1/4294967295)},R.prototype.nextNumber53=function(){return 1/9007199254740992*(67108864*(this._nextInt32()>>>5)+(this._nextInt32()>>>6))},(A=R).N=624,A.M=397,A.MATRIX_A=2567483615,A.UPPER_MASK=2147483648,A.LOWER_MASK=2147483647,A),S),E=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function j(t,e,n,i,o,r){var s=D.call(this,t,e,n,i,o,r)||this;return s.width=3,s.height=6,s.fillAlpha=150,s.fillColor=13012503,s.isFilled=!0,s.setOrigin(.5),s}var L,T,K=(D=Phaser.GameObjects.Rectangle,E(j,D),j.prototype.Instantiate=function(t,e,n){this.x=t.x,this.y=t.y,this.height=n,this.rotation=(e+90)*Math.PI/180;var i=new Date;this.birthTime=i.getTime()},j.prototype.update=function(t,e){var n;e/=17,n=C.findNewPoint(new Phaser.Math.Vector2(this.x,this.y),180*this.rotation/Math.PI-90,this.height*e),this.x=n.x,this.y=n.y,this.height-=.3*e,this.height*=1-.02*e,this.height<10&&(this.destroy(),(new Date).getTime())},j),N=((L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(B,T=M),B.prototype.createAnimations=function(){this.setAnimation({key:"walk",frameRate:this.PLAYER_UPDATE_RATE,repeat:-1},0,10)},B.prototype.setupShoot=function(){this.getCurrentScene().input.on("pointerdown",function(t){this.isShooting=!0,this.getCurrentScene().game.input.mouse.requestPointerLock(),console.log(this.randomSync.nextNumber()+1)},this),this.getCurrentScene().input.on("pointerup",function(t){this.isShooting=!1},this),this.getCurrentScene().input.on("pointermove",function(t){Phaser.Math.Distance.Squared(0,0,this.positionIncrement.x+t.movementX,this.positionIncrement.y+t.movementY)<1600?(this.positionIncrement.x+=t.movementX,this.positionIncrement.y+=t.movementY):this.positionIncrement=C.findNewPoint(this.positionIncrement,Phaser.Math.Angle.Between(0,0,this.positionIncrement.x,this.positionIncrement.y)/Math.PI*180,-3),this.rotation=Phaser.Math.Angle.Between(0,0,this.positionIncrement.x,this.positionIncrement.y)},this)},B.prototype.fireBullet=function(){if(null==this.playerBullets.getLast(!0)||!(24<this.playerBullets.getLast(!0).height||6==this.playerBullets.getLast(!0).height)){var t=new Phaser.Math.Vector2(this.x,this.y),e=180*this.rotation/Math.PI,n=this.playerBullets.get();n.setActive(!0).setVisible(!0),t=C.findNewPoint(t,e,35),e=C.spreadChange(e,15),this.kickBack(0,29),n.Instantiate(t,e,29)}},B.prototype.updateLook=function(){var t=this.getCurrentScene().input.mousePointer;Phaser.Math.Angle.Between(this.x,this.y,t.x,t.y),Math.PI},B.prototype.updatePlayerVelocity=function(t){var e=this.PLAYER_DEFAULT_SPEED;null!=this.playerBullets.getLast(!0)&&(e*=14/this.playerBullets.getLast(!0).height),this.cursors.left.isDown?this.setVelocityX(-e):this.cursors.right.isDown?this.setVelocityX(e):this.setVelocityX(0),this.cursors.up.isDown?this.setVelocityY(-e):this.cursors.down.isDown?this.setVelocityY(e):this.setVelocityY(0)},B.prototype.updateAnimation=function(){this.getEntityDirection()!==d.none?this.setDirectionalAnimation():this.setFrame(7)},B.prototype.update=function(t){this.isShooting&&this.fireBullet(),this.updateLook(),this.updatePlayerVelocity(t),this.setEntityDirection(),this.updateAnimation(),this.updatePosition(t)},B);function B(t,e,n,i,o){var r=T.call(this,t,e,n,i,o)||this;return r.PLAYER_UPDATE_RATE=8,r.PLAYER_DEFAULT_SPEED=.1475,r.isShooting=!1,r.updateIteration=30,r.positionIncrement=new Phaser.Math.Vector2,r.previousAngle=0,r.cursors={up:r.getCurrentScene().input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),down:r.getCurrentScene().input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),left:r.getCurrentScene().input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),right:r.getCurrentScene().input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D)},r.createAnimations(),r.playerBullets=r.getCurrentScene().add.group({classType:K,runChildUpdate:!0}),r.randomSync=new C.Random(123),r.setupShoot(),r}var X,k,V,U,Y=((X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(z,k=M),z.prototype.Instantiate=function(t,e,n){this.x=t.x,this.y=t.y,this.height=n,this.rotation=(e+90)*Math.PI/180;var i=new Date;this.birthTime=i.getTime()},z.prototype.update=function(t,e){},z);function z(t,e,n,i,o){var r=k.call(this,t,e,n,i,o)||this;return r.setTexture("zombie1"),r.tint=13378373,r.blendMode=Phaser.BlendModes.ADD,r.width=100,r.height=100,r.setOrigin(.5),r}function W(){return U.call(this,{key:"Main"})||this}var F,G,H=((V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(W,U=P),W.prototype.preload=function(){},W.prototype.create=function(){this.player=new N(this,100,100,"player",1),this.player.setDisplaySize(96,64).setOrigin(.5,.624),this.enemyZombies=this.add.group({classType:Y,runChildUpdate:!0}),this.enemyZombies.get().Instantiate(new Phaser.Math.Vector2(200,200),180,0),console.log("zombie")},W.prototype.update=function(t,e){this.player.update(e)},W),q=(F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Z=(G=Phaser.Game,q(J,G),J);function J(t){var e=G.call(this,t)||this;return e.scene.add("Boot",p),e.scene.add("Connect",g),e.scene.add("Main",H),e.scene.start("Boot"),Phaser.Display.Canvas.CanvasInterpolation.setCrisp(e.canvas),e}window.addEventListener("load",function(){new Z(r)})}]);